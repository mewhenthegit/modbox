!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.modbox=t():e.modbox=t()}(self,(()=>(()=>{"use strict";var __webpack_modules__={473:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>LoaderMod});var _modapi__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(869);class LoaderMod extends _modapi__WEBPACK_IMPORTED_MODULE_0__.BL{constructor(){super(...arguments),this.name="JavaScript Loader",this.description="The default loader for modbox.",this.version="0.0.1",this.namespace="loader-js"}Load(data){try{return eval(`(function(){return ${data}})();`)}catch(e){return console.error(e),new _modapi__WEBPACK_IMPORTED_MODULE_0__.BL}}CanLoad(e){return e.endsWith(".js")}}},869:(e,t,o)=>{o.d(t,{BL:()=>d,j$:()=>_,Dg:()=>l});class r{constructor(){this._callbacks={}}on(e,t){this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}off(e,t){this._callbacks[e]&&this._callbacks[e].forEach(((o,r)=>{o===t&&this._callbacks[e].splice(r,1)}))}once(e,t){this.on(e,((...o)=>{t(o),this.off(e,arguments.callee)}))}emit(e,...t){this._callbacks[e]&&this._callbacks[e].forEach((e=>e(...t)))}}class i{constructor(e,t,o){this.name=e,this.data=t,this.defaultaction=o,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}run_default(...e){this.defaultPrevented||this.defaultaction(...e)}}var n,a;!function(e){e.deepClone=function e(t){let o=[];for(let r=0;r<t.length;r++){let i=t[r];"object"==typeof i&&(i=a.deepClone(i)),Array.isArray(i)&&(i=e(i)),o.push(i)}return o},e.remove=function(e,t){return t.splice(e,1)}}(n||(n={})),function(e){function t(e){for(let o in e){if("function"==typeof e[o])return!0;if("object"==typeof e[o])return t(e[o])}return!1}e.hasFunctions=t,e.deepClone=function e(o){if(window.structuredClone)return window.structuredClone(o);if(!t(o))return JSON.parse(JSON.stringify(o));let r={};for(let t in o)"object"!=typeof o[t]?Array.isArray(o[t])?r[t]=n.deepClone(o[t]):r[t]=o[t]:r[t]=e(o[t])}}(a||(a={}));let s=window;class d{constructor(){this.name="no name",this.description="no description",this.version="0.0.0",this.namespace="mod"}init(){}}class l extends d{constructor(){super(...arguments),this.name="ModAPI",this.description="An API for rmtrollbox mods",this.version="0.0.1",this.namespace="modapi",this.loaded=[],this.hooks={}}GetMod(e){let t=this.loaded.find((t=>t.namespace===e));if(!t)throw new Error(`Mod with namespace ${e} not found.`);return t}GetModByName(e){return this.loaded.find((t=>t.name===e))}GetMods(){return this.loaded}LoadMod(e){null==e&&$alert("Uh oh! Something went horribly wrong loading a mod!");let t=new e;this.loaded.find((e=>e.name===t.name))||(this.loaded.push(t),t.init())}ReplaceMod(e,t){let o=this.loaded.findIndex((t=>t.name===e.name));-1!==o&&(this.loaded[o]=t)}Hook(e){if(this.hooks[e])return this.hooks[e];let t=new r,o=s[e];return s[e]=async function(e,...o){let r=n.deepClone(o);t.emit("before_call",r);let a=new i("hooked_function_call",{funcargs:r},e);t.emit("call",a),await new Promise((e=>setTimeout(e,80))),a.run_default(...r),t.emit("after_call")}.bind(this,o),this.hooks[e]=t,t}FilterMods(e){return this.loaded.filter((t=>t.namespace.startsWith(e)))}}const _=new l}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Mod:()=>modapi.BL,ModAPI:()=>modapi.j$,ModAPI_C:()=>modapi.Dg});var modapi=__webpack_require__(869);class MBLogger extends modapi.BL{constructor(){super(...arguments),this.name="MBLogger",this.description="The default logger for modbox.",this.version="0.0.1",this.namespace="mblogger"}init(){}CreateLogger(e){return new Logger(e)}}class Logger{constructor(e){this.name=e}getTime(){let e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}log(...e){console.log(`[${this.getTime()}] [${this.name}]`,...e)}info(...e){console.info(`[${this.getTime()}] [${this.name}] [INFO]`,...e)}warn(...e){console.warn(`[${this.getTime()}] [${this.name}] [WARN]`,...e)}error(...e){console.error(`[${this.getTime()}] [${this.name}] [ERROR]`,...e)}}class trollbox extends modapi.BL{constructor(){super(...arguments),this.name="trollbox",this.description="trollbox API",this.version="0.0.1",this.namespace="trollbox",this.logger=modapi.j$.GetMod("mblogger").CreateLogger("trollbox"),this.registeredCommands=[]}init(){this.logger.log("Initializing trollbox API"),modapi.j$.Hook("sendMsg").on("call",(e=>{let t=e.data.funcargs[0];if(t.startsWith("/")){let o=t.substr(1).split(" "),r=o.shift(),i="";r.includes(":")&&(i=r.split(":")[0],r=r.split(":")[1]);let n=this.registeredCommands.filter((e=>i?e.namespace===i&&(e.name===r||e.aliases.includes(r)):e.name==r||e.aliases.includes(r)));n.length>0&&(e.preventDefault(),n[0].execute(o))}})),this.logger.info("trollbox api initialized"),this.PrintMessage({nick:"modbox",color:"green",home:"balls",date:Date.now(),msg:"Modbox active!"})}PrintMessage(e){window.printMsg(e)}RegisterCommand(e){this.registeredCommands.push(e)}GetElement(e){return document.querySelector(`#trollbox > ${e.GetSelector()}`)}}class UIElement{constructor(e,t){this.name=e,this.element=t,this._children=[]}GetSelector(){return this.element}SetChildren(e){return this._children=e.map((e=>(e.element=`${this.element} > ${e.element}`,e))),this}Get(e){let t=this._children.find((t=>t.name===e));if(!t)throw new Error(`No child named ${e}`);return t}get children(){return Object.fromEntries(this._children.map((e=>[e.name,e])))}}const UI={Form:new UIElement("Form","#trollbox_form").SetChildren([new UIElement("Input","textarea#trollbox_input"),new UIElement("SendButton","button"),new UIElement("NickButton","button#trollbox_nick_btn"),new UIElement("UploadButton","button#trollbox_upload_btn")])};class ModStorage extends modapi.BL{constructor(){super(...arguments),this.name="ModStorage",this.description="A mod that stores mod data",this.version="0.0.1",this.namespace="storage"}init(){}GetStorage(e){return new StorageData(e)}}class StorageData{constructor(e){this.name=e}Get(e,t){$db.get(`modbox/${this.name}/${e}`,((e,o)=>{t(o)}))}Set(e,t){$db.set(`modbox/${this.name}/${e}`,t)}Remove(e){$db.del(`modbox/${this.name}/${e}`)}List(e){return $db.keys(((t,o)=>{let r=[];for(let e=0;e<o.length;e++)o[e].startsWith("modbox/"+this.name+"/")&&r.push(o[e].replace(`modbox/${this.name}/`,""));e(r)}))}Clear(){this.List((e=>{e.forEach((e=>{this.Remove(e)}))}))}}var loader_js=__webpack_require__(473);const ModBox={ModAPI:modapi.j$,Mod:modapi.BL};class ModLoader extends modapi.BL{constructor(){super(...arguments),this.name="Mod Loader",this.description="A mod that loads mods",this.version="0.0.1",this.namespace="modloader",this.logger=modapi.j$.GetMod("mblogger").CreateLogger("modloader")}init(){this.logger.info("Loading mods...");let e=modapi.j$.GetMod("storage").GetStorage("mods");e.List((t=>{this.logger.info(`Found ${t.length} mods`);for(let o=0;o<t.length;o++){let r=t[o];e.Get(r,(e=>{this.logger.info(`Loading ${r}`);let t=modapi.j$.FilterMods("loader-"),o=!1;for(let i of t)if(i.CanLoad(r)){this.logger.info(`Loading mod ${r} with loader ${i.name}`),modapi.j$.LoadMod(i.Load(e)),this.logger.info(`Loaded ${r}`),o=!0;break}o||this.logger.error(`Could not load mod ${r}: no loader found for it`)}))}})),this.logger.info(`${modapi.j$.GetMods().length} Mods loaded`)}}return window.modbox=ModBox,window.modbox.ModAPI.LoadMod(MBLogger),window.modbox.ModAPI.LoadMod(trollbox),window.modbox.ModAPI.LoadMod(ModStorage),window.modbox.ModAPI.LoadMod(loader_js.A),window.modbox.ModAPI.LoadMod(ModLoader),__webpack_exports__})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxPQUFPc0ksT0FBTzdGLE9BQU92QixRQUFRK0YsWUFFN0JqSCxPQUFPc0ksT0FBTzdGLE9BQU92QixRQUFRLGFBRTdCbEIsT0FBT3NJLE9BQU83RixPQUFPdkIsUUFBUStHLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb2Rib3gvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL21vZGJveC8uL3NyYy9sb2FkZXItanMudHMiLCJ3ZWJwYWNrOi8vbW9kYm94Ly4vc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9tb2Rib3gvLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly9tb2Rib3gvLi9zcmMvbW9kYXBpLnRzIiwid2VicGFjazovL21vZGJveC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tb2Rib3gvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21vZGJveC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21vZGJveC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21vZGJveC8uL3NyYy9tYmxvZ2dlci50cyIsIndlYnBhY2s6Ly9tb2Rib3gvLi9zcmMvdHJvbGxib3gudHMiLCJ3ZWJwYWNrOi8vbW9kYm94Ly4vc3JjL21vZHN0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbW9kYm94Ly4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vZGJveFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2Rib3hcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiaW1wb3J0IHsgTW9kIH0gZnJvbSBcIi4vbW9kYXBpXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXJNb2QgZXh0ZW5kcyBNb2Qge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkphdmFTY3JpcHQgTG9hZGVyXCI7XG4gICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmcgPSBcIlRoZSBkZWZhdWx0IGxvYWRlciBmb3IgbW9kYm94LlwiO1xuICAgIHB1YmxpYyB2ZXJzaW9uOiBzdHJpbmcgPSBcIjAuMC4xXCI7XG4gICAgcHVibGljIG5hbWVzcGFjZTogc3RyaW5nID0gXCJsb2FkZXItanNcIjtcbiAgICBMb2FkKGRhdGE6IHN0cmluZyk6IE1vZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZXZhbChgKGZ1bmN0aW9uKCl7cmV0dXJuICR7ZGF0YX19KSgpO2ApO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBDYW5Mb2FkKGZpbGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmlsZS5lbmRzV2l0aChcIi5qc1wiKTtcbiAgICB9XG59IiwiaW50ZXJmYWNlIGNhbGxiYWNrZHVjIHtcbiAgICBba2V5OiBzdHJpbmddOiBGdW5jdGlvbltdO1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgICBwdWJsaWMgX2NhbGxiYWNrczogY2FsbGJhY2tkdWM7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIH1cbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FsbGJhY2tzW2V2ZW50TmFtZV0pIHRoaXMuX2NhbGxiYWNrc1tldmVudE5hbWVdID0gW107XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICBvZmYoZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuX2NhbGxiYWNrc1tldmVudE5hbWVdKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1tldmVudE5hbWVdLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBjYWxsYmFjaykgdGhpcy5fY2FsbGJhY2tzW2V2ZW50TmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgb25jZShldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMub24oZXZlbnROYW1lLCAoLi4uZDogYW55W10pID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGQpO1xuICAgICAgICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBhcmd1bWVudHMuY2FsbGVlKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZW1pdChldmVudE5hbWU6IHN0cmluZywgLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWxsYmFja3NbZXZlbnROYW1lXSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3NbZXZlbnROYW1lXS5mb3JFYWNoKHggPT4geCguLi5hcmdzKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50IHtcbiAgICBwdWJsaWMgZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHB1YmxpYyBkYXRhOiBhbnksIHB1YmxpYyBkZWZhdWx0YWN0aW9uOiBGdW5jdGlvbikge307XG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuICAgIHJ1bl9kZWZhdWx0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIGlmICghdGhpcy5kZWZhdWx0UHJldmVudGVkKSB0aGlzLmRlZmF1bHRhY3Rpb24oLi4uYXJncyk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKSB7cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpfTtcbmV4cG9ydCBuYW1lc3BhY2UgYXJyYXkge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBkZWVwQ2xvbmUoYXJyOiBhbnlbXSk6IGFueVtdIHtcbiAgICAgICAgbGV0IG5ld2FycjogYW55W10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gYXJyW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiKSBkYXRhID0gb2JqZWN0LmRlZXBDbG9uZShkYXRhKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSBkYXRhID0gZGVlcENsb25lKGRhdGEpO1xuICAgICAgICAgICAgbmV3YXJyLnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld2FycjtcbiAgICB9O1xuICAgIGV4cG9ydCBmdW5jdGlvbiByZW1vdmUoaW5kZXg6IG51bWJlciwgYXJyOiBhbnlbXSl7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG5leHBvcnQgbmFtZXNwYWNlIG9iamVjdCB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhhc0Z1bmN0aW9ucyhvYmo6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGxldCBpdGVtIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbaXRlbV0gPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9ialtpdGVtXSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIGhhc0Z1bmN0aW9ucyhvYmpbaXRlbV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZShvYmo6IGFueSk6IGFueSB7XG4gICAgICAgIGlmICgod2luZG93IGFzIGFueSkuc3RydWN0dXJlZENsb25lKSByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLnN0cnVjdHVyZWRDbG9uZShvYmopXG4gICAgICAgIGlmICghaGFzRnVuY3Rpb25zKG9iaikpIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuICAgICAgICBsZXQgbmV3b2JqOiBhbnkgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2l0ZW1dID09PSBcIm9iamVjdFwiKSB7bmV3b2JqW2l0ZW1dID0gZGVlcENsb25lKG9ialtpdGVtXSk7IGNvbnRpbnVlfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2l0ZW1dKSkge25ld29ialtpdGVtXSA9IGFycmF5LmRlZXBDbG9uZShvYmpbaXRlbV0pOyBjb250aW51ZX1cbiAgICAgICAgICAgIG5ld29ialtpdGVtXSA9IG9ialtpdGVtXTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgRXZlbnRFbWl0dGVyLCB7IEV2ZW50IH0gZnJvbSBcIi4vZXZlbnRzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5sZXQgd2lubyA9IHdpbmRvdyBhcyBhbnk7XG5cbmV4cG9ydCBjbGFzcyBNb2Qge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIm5vIG5hbWVcIjtcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyA9IFwibm8gZGVzY3JpcHRpb25cIjtcbiAgICBwdWJsaWMgdmVyc2lvbjogc3RyaW5nID0gXCIwLjAuMFwiO1xuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZyA9IFwibW9kXCI7XG4gICAgaW5pdCgpIHt9XG4gICAgLy8gY29uc3RydWN0b3IoKXt9O1xufVxuZXhwb3J0IGNsYXNzIE1vZEFQSV9DIGV4dGVuZHMgTW9kIHtcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJNb2RBUElcIjtcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyA9IFwiQW4gQVBJIGZvciBybXRyb2xsYm94IG1vZHNcIjtcbiAgICBwdWJsaWMgdmVyc2lvbjogc3RyaW5nID0gXCIwLjAuMVwiO1xuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZyA9IFwibW9kYXBpXCI7XG4gICAgcHJpdmF0ZSBsb2FkZWQ6IE1vZFtdID0gW107XG4gICAgcHJpdmF0ZSBob29rczoge1trZXk6IHN0cmluZ106IEV2ZW50RW1pdHRlcn0gPSB7fTtcbiAgICBwdWJsaWMgR2V0TW9kPFQ+KG5hbWVzcGFjZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBhID0gdGhpcy5sb2FkZWQuZmluZCh4ID0+IHgubmFtZXNwYWNlID09PSBuYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIWEpIHRocm93IG5ldyBFcnJvcihgTW9kIHdpdGggbmFtZXNwYWNlICR7bmFtZXNwYWNlfSBub3QgZm91bmQuYCk7XG4gICAgICAgIHJldHVybiBhIGFzIHVua25vd24gYXMgVDtcbiAgICB9XG4gICAgcHVibGljIEdldE1vZEJ5TmFtZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVkLmZpbmQoeCA9PiB4Lm5hbWUgPT09IG5hbWUpO1xuICAgIH1cbiAgICBwdWJsaWMgR2V0TW9kcygpOiBNb2RbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcbiAgICB9XG4gICAgcHVibGljIExvYWRNb2QobW9kOiBhbnkpIHtcbiAgICAgICAgaWYgKG1vZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICRhbGVydChcIlVoIG9oISBTb21ldGhpbmcgd2VudCBob3JyaWJseSB3cm9uZyBsb2FkaW5nIGEgbW9kIVwiKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbG1vZDogTW9kID0gbmV3IG1vZCgpO1xuICAgICAgICBpZiAodGhpcy5sb2FkZWQuZmluZCh4ID0+IHgubmFtZSA9PT0gbG1vZC5uYW1lKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmxvYWRlZC5wdXNoKGxtb2QpO1xuICAgICAgICBsbW9kLmluaXQoKTtcbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHB1YmxpYyBSZXBsYWNlTW9kKG1vZDogTW9kLCBuZXdtb2Q6IE1vZCkge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmxvYWRlZC5maW5kSW5kZXgoeCA9PiB4Lm5hbWUgPT09IG1vZC5uYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmxvYWRlZFtpbmRleF0gPSBuZXdtb2Q7XG4gICAgfVxuICAgIHB1YmxpYyBIb29rKGZ1bmN0aW9uX25hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5ob29rc1tmdW5jdGlvbl9uYW1lXSkgcmV0dXJuIHRoaXMuaG9va3NbZnVuY3Rpb25fbmFtZV07XG4gICAgICAgIGxldCBldmVtID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBsZXQgb2dmdW5jID0gd2lub1tmdW5jdGlvbl9uYW1lXTtcbiAgICAgICAgd2lub1tmdW5jdGlvbl9uYW1lXSA9IChhc3luYyBmdW5jdGlvbiAob2dmdW5jOiBGdW5jdGlvbiwgLi4uZmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICBsZXQgbmFyZ3MgPSB1dGlsLmFycmF5LmRlZXBDbG9uZShmYXJncyk7XG4gICAgICAgICAgICBldmVtLmVtaXQoJ2JlZm9yZV9jYWxsJywgbmFyZ3MpOyAvLyB5b3UgY2FuIHVzZSBiZWZvcmUgY2FsbCB0byBxdWlja2x5IG1vZGlmeSB0aGUgYXJndW1lbnRzXG4gICAgICAgICAgICBsZXQgZmV2ZW50ID0gbmV3IEV2ZW50KCdob29rZWRfZnVuY3Rpb25fY2FsbCcsIHtmdW5jYXJnczogbmFyZ3N9LCBvZ2Z1bmMpO1xuICAgICAgICAgICAgZXZlbS5lbWl0KCdjYWxsJyxmZXZlbnQpO1xuICAgICAgICAgICAgYXdhaXQgdXRpbC5zbGVlcCg4MCk7XG4gICAgICAgICAgICBmZXZlbnQucnVuX2RlZmF1bHQoLi4ubmFyZ3MpO1xuICAgICAgICAgICAgZXZlbS5lbWl0KFwiYWZ0ZXJfY2FsbFwiKTtcbiAgICAgICAgfSkuYmluZCh0aGlzLCBvZ2Z1bmMpO1xuICAgICAgICB0aGlzLmhvb2tzW2Z1bmN0aW9uX25hbWVdID0gZXZlbTtcbiAgICAgICAgcmV0dXJuIGV2ZW07XG4gICAgfVxuICAgIHB1YmxpYyBGaWx0ZXJNb2RzPFQ+KHByZWZpeDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZC5maWx0ZXIoeCA9PiB4Lm5hbWVzcGFjZS5zdGFydHNXaXRoKHByZWZpeCkpIGFzIHVua25vd24gYXMgVFtdO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBNb2RBUEkgPSBuZXcgTW9kQVBJX0MoKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IE1vZCB9IGZyb20gXCIuL21vZGFwaVwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTUJMb2dnZXIgZXh0ZW5kcyBNb2Qge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIk1CTG9nZ2VyXCI7XG4gICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmcgPSBcIlRoZSBkZWZhdWx0IGxvZ2dlciBmb3IgbW9kYm94LlwiO1xuICAgIHB1YmxpYyB2ZXJzaW9uOiBzdHJpbmcgPSBcIjAuMC4xXCI7XG4gICAgcHVibGljIG5hbWVzcGFjZTogc3RyaW5nID0gXCJtYmxvZ2dlclwiO1xuICAgIHB1YmxpYyBpbml0KCkge31cbiAgICBwdWJsaWMgQ3JlYXRlTG9nZ2VyKG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IExvZ2dlcihuYW1lKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nKSB7fVxuICAgIHByaXZhdGUgZ2V0VGltZSgpIHtcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsZXQgaG91ciA9IGQuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICAgICAgbGV0IG1pbnV0ZSA9IGQuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpO1xuICAgICAgICBsZXQgc2Vjb25kID0gZC5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgICAgIHJldHVybiBgJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcbiAgICB9XG4gICAgcHVibGljIGxvZyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5nZXRUaW1lKCl9XSBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBwdWJsaWMgaW5mbyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBjb25zb2xlLmluZm8oYFske3RoaXMuZ2V0VGltZSgpfV0gWyR7dGhpcy5uYW1lfV0gW0lORk9dYCwgLi4uYXJncyk7XG4gICAgfVxuICAgIHB1YmxpYyB3YXJuKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5nZXRUaW1lKCl9XSBbJHt0aGlzLm5hbWV9XSBbV0FSTl1gLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgcHVibGljIGVycm9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMuZ2V0VGltZSgpfV0gWyR7dGhpcy5uYW1lfV0gW0VSUk9SXWAsIC4uLmFyZ3MpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBNb2QsIE1vZEFQSSB9IGZyb20gXCIuL21vZGFwaVwiO1xuaW1wb3J0IE1CTG9nZ2VyIGZyb20gXCIuL21ibG9nZ2VyXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyLCB7RXZlbnR9IGZyb20gXCIuL2V2ZW50c1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICAgIG5pY2s6IHN0cmluZztcbiAgICBob21lOiBzdHJpbmc7XG4gICAgbXNnOiBzdHJpbmc7XG4gICAgZGF0ZTogbnVtYmVyO1xuICAgIGNvbG9yOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAgIG5hbWVzcGFjZTogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHVzYWdlOiBzdHJpbmc7XG4gICAgYWxpYXNlczogc3RyaW5nW107XG4gICAgZXhlY3V0ZTogKGFyZ3M6IHN0cmluZ1tdKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB0cm9sbGJveCBleHRlbmRzIE1vZCB7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwidHJvbGxib3hcIjtcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyA9IFwidHJvbGxib3ggQVBJXCI7XG4gICAgcHVibGljIHZlcnNpb246IHN0cmluZyA9IFwiMC4wLjFcIjtcbiAgICBwdWJsaWMgbmFtZXNwYWNlOiBzdHJpbmcgPSBcInRyb2xsYm94XCI7XG4gICAgcHVibGljIGxvZ2dlciA9IE1vZEFQSS5HZXRNb2Q8TUJMb2dnZXI+KFwibWJsb2dnZXJcIikuQ3JlYXRlTG9nZ2VyKFwidHJvbGxib3hcIik7XG4gICAgcHJpdmF0ZSByZWdpc3RlcmVkQ29tbWFuZHM6IENvbW1hbmRbXSA9IFtdO1xuICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJJbml0aWFsaXppbmcgdHJvbGxib3ggQVBJXCIpO1xuICAgICAgICBsZXQgc25kTXNnSG9vayA9IE1vZEFQSS5Ib29rKFwic2VuZE1zZ1wiKTtcbiAgICAgICAgc25kTXNnSG9vay5vbihcImNhbGxcIiwgKGV2OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGV2LmRhdGEuZnVuY2FyZ3NbMF07XG4gICAgICAgICAgICBpZiAobXNnLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgIGxldCBhcmdzID0gbXNnLnN1YnN0cigxKS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIGxldCBjbWQgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWVzcGFjZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKGNtZC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9IGNtZC5zcGxpdCgnOicpWzBdO1xuICAgICAgICAgICAgICAgICAgICBjbWQgPSBjbWQuc3BsaXQoJzonKVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNtZHMgPSB0aGlzLnJlZ2lzdGVyZWRDb21tYW5kcy5maWx0ZXIoYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlICYmIChjLm5hbWUgPT09IGNtZCB8fCBjLmFsaWFzZXMuaW5jbHVkZXMoY21kKSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLm5hbWUgPT0gY21kIHx8IGMuYWxpYXNlcy5pbmNsdWRlcyhjbWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY21kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNtZHNbMF0uZXhlY3V0ZShhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJ0cm9sbGJveCBhcGkgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgIHRoaXMuUHJpbnRNZXNzYWdlKHtcbiAgICAgICAgICAgIG5pY2s6IFwibW9kYm94XCIsXG4gICAgICAgICAgICBjb2xvcjogXCJncmVlblwiLFxuICAgICAgICAgICAgaG9tZTogXCJiYWxsc1wiLFxuICAgICAgICAgICAgZGF0ZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIG1zZzogXCJNb2Rib3ggYWN0aXZlIVwiXG4gICAgICAgIH0pXG4gICAgfVxuICAgIHB1YmxpYyBQcmludE1lc3NhZ2UobXNnOiBNZXNzYWdlKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB3aW5kb3cucHJpbnRNc2cobXNnKTtcbiAgICB9XG4gICAgcHVibGljIFJlZ2lzdGVyQ29tbWFuZChjbWQ6IENvbW1hbmQpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkQ29tbWFuZHMucHVzaChjbWQpO1xuICAgIH1cbiAgICBwdWJsaWMgR2V0RWxlbWVudCh1aWVsZW1lbnQ6IFVJRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Ryb2xsYm94ID4gJHt1aWVsZW1lbnQuR2V0U2VsZWN0b3IoKX1gKTtcbiAgICB9XG4gICAgLy8gcHVibGljIE9wZW5Qb3B1cChodG1sOiBzdHJpbmcpIHsgLy8gcHJvYiBkb2VzbnQgZXhpc3QgaW4gdHJvbGxib3ggYW55bW9yZVxuICAgIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgLy8gICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAvLyAgICAgICAgIHdpbmRvdy5wb3B1cChodG1sLHJlc29sdmUpOyAvLyByZXNvbHZlIGdldHMgY2FsbGVkIHdoZW4gdGhlIHBvcHVwIGlzIG9wZW5cbiAgICAvLyAgICAgfSlcbiAgICAvLyB9XG59XG5jbGFzcyBVSUVsZW1lbnQge1xuICAgIHByaXZhdGUgX2NoaWxkcmVuOiBVSUVsZW1lbnRbXSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHB1YmxpYyBlbGVtZW50OiBzdHJpbmcpIHt9XG4gICAgcHVibGljIEdldFNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cbiAgICBwdWJsaWMgU2V0Q2hpbGRyZW4oY2hpbGRzOiBVSUVsZW1lbnRbXSkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IGNoaWxkcy5tYXAoeCA9PiB7XG4gICAgICAgICAgICB4LmVsZW1lbnQgPSBgJHt0aGlzLmVsZW1lbnR9ID4gJHt4LmVsZW1lbnR9YDtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHB1YmxpYyBHZXQobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBhID0gdGhpcy5fY2hpbGRyZW4uZmluZCh4ID0+IHgubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgIGlmICghYSkgdGhyb3cgbmV3IEVycm9yKGBObyBjaGlsZCBuYW1lZCAke25hbWV9YCk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKToge1trZXk6IHN0cmluZ106IFVJRWxlbWVudH0ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuX2NoaWxkcmVuLm1hcCh4ID0+IFt4Lm5hbWUsIHhdKSlcbiAgICB9XG59XG4vKmV4cG9ydCBjb25zdCBVSSA9IHtcbiAgICBGb3JtOiB7XG4gICAgICAgIF9fY29tYmluZTogXCIjdHJvbGxib3hfZm9ybVwiLFxuICAgICAgICBnZXQgSW5wdXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5fX2NvbWJpbmV9ID4gdGV4dGFyZWEjdHJvbGxib3hfaW5wdXRgO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgU2VuZEJ1dHRvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLl9fY29tYmluZX0gPiBidXR0b25gO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgTmlja0J1dHRvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLl9fY29tYmluZX0gPiBidXR0b24jdHJvbGxib3hfbmlja19idG5gO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgVXBsb2FkQnV0dG9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuX19jb21iaW5lfSA+IGJ1dHRvbiN0cm9sbGJveF91cGxvYWRfYnRuYDtcbiAgICAgICAgfVxuICAgIH1cbn0qL1xuZXhwb3J0IGNvbnN0IFVJID0ge1xuICAgIEZvcm06IG5ldyBVSUVsZW1lbnQoXCJGb3JtXCIsIFwiI3Ryb2xsYm94X2Zvcm1cIikuU2V0Q2hpbGRyZW4oW1xuICAgICAgICBuZXcgVUlFbGVtZW50KFwiSW5wdXRcIiwgXCJ0ZXh0YXJlYSN0cm9sbGJveF9pbnB1dFwiKSxcbiAgICAgICAgbmV3IFVJRWxlbWVudChcIlNlbmRCdXR0b25cIiwgXCJidXR0b25cIiksXG4gICAgICAgIG5ldyBVSUVsZW1lbnQoXCJOaWNrQnV0dG9uXCIsIFwiYnV0dG9uI3Ryb2xsYm94X25pY2tfYnRuXCIpLFxuICAgICAgICBuZXcgVUlFbGVtZW50KFwiVXBsb2FkQnV0dG9uXCIsIFwiYnV0dG9uI3Ryb2xsYm94X3VwbG9hZF9idG5cIilcblxuICAgIF0pXG59XG4iLCJpbXBvcnQgeyBNb2QgfSBmcm9tIFwiLi9tb2RhcGlcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZFN0b3JhZ2UgZXh0ZW5kcyBNb2Qge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIk1vZFN0b3JhZ2VcIjtcbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyA9IFwiQSBtb2QgdGhhdCBzdG9yZXMgbW9kIGRhdGFcIjtcbiAgICBwdWJsaWMgdmVyc2lvbjogc3RyaW5nID0gXCIwLjAuMVwiO1xuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZyA9IFwic3RvcmFnZVwiO1xuICAgIHB1YmxpYyBpbml0KCkge31cbiAgICBwdWJsaWMgR2V0U3RvcmFnZShuYW1lOiBzdHJpbmcpOiBTdG9yYWdlRGF0YSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmFnZURhdGEobmFtZSk7XG4gICAgfVxufVxuY2xhc3MgU3RvcmFnZURhdGEge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcpIHt9XG4gICAgcHVibGljIEdldChrZXk6IHN0cmluZywgYzogRnVuY3Rpb24pOiBhbnkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgJGRiLmdldChgbW9kYm94LyR7dGhpcy5uYW1lfS8ke2tleX1gLCAoXywgY29udGVudCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXywgY29udGVudClcbiAgICAgICAgICAgIGMoY29udGVudCk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgbW9kYm94LyR7dGhpcy5uYW1lfS8ke2tleX1gKTtcbiAgICB9XG4gICAgcHVibGljIFNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgJGRiLnNldChgbW9kYm94LyR7dGhpcy5uYW1lfS8ke2tleX1gLHZhbHVlKTtcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oYG1vZGJveC8ke3RoaXMubmFtZX0vJHtrZXl9YCwgdmFsdWUpO1xuICAgIH1cbiAgICBwdWJsaWMgUmVtb3ZlKGtleTogc3RyaW5nKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAkZGIuZGVsKGBtb2Rib3gvJHt0aGlzLm5hbWV9LyR7a2V5fWApO1xuICAgICAgICAvLyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgbW9kYm94LyR7dGhpcy5uYW1lfS8ke2tleX1gKTtcbiAgICB9XG4gICAgcHVibGljIExpc3QoYzogRnVuY3Rpb24pIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHJldHVybiAkZGIua2V5cygoXywga2V5czogQXJyYXk8U3RyaW5nPikgPT4ge1xuICAgICAgICAgICAgbGV0IG1vZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChrZXlzW2ldLnN0YXJ0c1dpdGgoXCJtb2Rib3gvXCIrdGhpcy5uYW1lK1wiL1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RzLnB1c2goa2V5c1tpXS5yZXBsYWNlKGBtb2Rib3gvJHt0aGlzLm5hbWV9L2AsIFwiXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjKG1vZHMpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gbGV0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpO1xuICAgIH1cbiAgICBwdWJsaWMgQ2xlYXIoKSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLkxpc3QoKGtleXMpPT4ge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLlJlbW92ZShrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCB7IE1vZEFQSSwgTW9kLCBNb2RBUElfQyB9IGZyb20gXCIuL21vZGFwaVwiO1xuaW1wb3J0IE1CTG9nZ2VyLCB7IExvZ2dlciB9IGZyb20gXCIuL21ibG9nZ2VyXCI7XG5pbXBvcnQgdHJvbGxib3ggZnJvbSBcIi4vdHJvbGxib3hcIjtcbmltcG9ydCBNb2RTdG9yYWdlIGZyb20gXCIuL21vZHN0b3JhZ2VcIjtcbmltcG9ydCBMb2FkZXJNb2QgZnJvbSBcIi4vbG9hZGVyLWpzXCI7XG5cbnR5cGUgVE1vZEJveCA9IHtcbiAgICBNb2RBUEk6IE1vZEFQSV9DXG4gICAgTW9kOiBhbnlcbn1cblxuY29uc3QgTW9kQm94OiBUTW9kQm94ID0ge1xuICAgIE1vZEFQSTogTW9kQVBJLFxuICAgIE1vZDogTW9kXG59XG5cbmNsYXNzIE1vZExvYWRlciBleHRlbmRzIE1vZCB7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiTW9kIExvYWRlclwiO1xuICAgIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nID0gXCJBIG1vZCB0aGF0IGxvYWRzIG1vZHNcIjtcbiAgICBwdWJsaWMgdmVyc2lvbjogc3RyaW5nID0gXCIwLjAuMVwiO1xuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZyA9IFwibW9kbG9hZGVyXCI7XG4gICAgcHJpdmF0ZSBsb2dnZXIgPSBNb2RBUEkuR2V0TW9kPE1CTG9nZ2VyPihcIm1ibG9nZ2VyXCIpLkNyZWF0ZUxvZ2dlcihcIm1vZGxvYWRlclwiKTtcbiAgICBwdWJsaWMgaW5pdCgpIHtcbiAgICAgICAgLyovL0B0cy1pZ25vcmVcbiAgICAgICAgd2luZG93Lk1vZEFQSSA9IE1vZEFQSTsgLy8gZXhwb3NlIHRoZSBNb2RBUEkgdG8gdGhlIHdpbmRvd1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdNb2RBUEkgZXhwb3NlZCB0byB3aW5kb3cnKTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHdpbmRvdy5Nb2QgPSBNb2Q7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ01vZCBjbGFzcyBleHBvc2VkIHRvIHdpbmRvdycpOyovXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0xvYWRpbmcgbW9kcy4uLicpO1xuICAgICAgICBsZXQgbW9kcyA9IE1vZEFQSS5HZXRNb2Q8TW9kU3RvcmFnZT4oXCJzdG9yYWdlXCIpLkdldFN0b3JhZ2UoXCJtb2RzXCIpXG4gICAgICAgIC8vIGxldCBtb2RMaXN0ID0gbW9kcy5MaXN0KCk7XG4gICAgICAgIG1vZHMuTGlzdCgobW9kTGlzdDogQXJyYXk8c3RyaW5nPik9PntcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYEZvdW5kICR7bW9kTGlzdC5sZW5ndGh9IG1vZHNgKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBtb2ROYW1lOiBzdHJpbmcgPSBtb2RMaXN0W2ldXG4gICAgICAgICAgICAgICAgbW9kcy5HZXQobW9kTmFtZSwgKG1vZDogc3RyaW5nKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBMb2FkaW5nICR7bW9kTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRlcnMgPSBNb2RBUEkuRmlsdGVyTW9kczxMb2FkZXJNb2Q+KFwibG9hZGVyLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBsb2FkZXIgb2YgbG9hZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlci5DYW5Mb2FkKG1vZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgTG9hZGluZyBtb2QgJHttb2ROYW1lfSB3aXRoIGxvYWRlciAke2xvYWRlci5uYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZEFQSS5Mb2FkTW9kKGxvYWRlci5Mb2FkKG1vZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYExvYWRlZCAke21vZE5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBsb2FkIG1vZCAke21vZE5hbWV9OiBubyBsb2FkZXIgZm91bmQgZm9yIGl0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYCR7TW9kQVBJLkdldE1vZHMoKS5sZW5ndGh9IE1vZHMgbG9hZGVkYCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBNb2QsIE1vZEFQSSwgTW9kQVBJX0MgfTtcblxuLy9AdHMtaWdub3JlXG53aW5kb3cubW9kYm94ID0gTW9kQm94O1xuXG4vLyBzZXRUaW1lb3V0KCgpID0+IHtcbi8vICAgICBhbGVydChcImJhbGxzXCIpXG4vL0B0cy1pZ25vcmVcbndpbmRvdy5tb2Rib3guTW9kQVBJLkxvYWRNb2QoTUJMb2dnZXIpO1xuLy9AdHMtaWdub3JlXG53aW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKHRyb2xsYm94KTtcbi8vQHRzLWlnbm9yZVxud2luZG93Lm1vZGJveC5Nb2RBUEkuTG9hZE1vZChNb2RTdG9yYWdlKTtcbi8vQHRzLWlnbm9yZVxud2luZG93Lm1vZGJveC5Nb2RBUEkuTG9hZE1vZChMb2FkZXJNb2QpO1xuLy9AdHMtaWdub3JlXG53aW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKE1vZExvYWRlcik7XG4vLyB9LCA1MDApXG5cbi8vIC8vQHRzLWlnbm9yZVxuLy8gJGtlcm5lbC5vbihcInNwbGFzaDpyZWFkeVwiLCAoKT0+eyAvLyBydW4gd2hlbiB3OTMgYm9vdHNcbi8vICAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbGVzcyBzaGl0dHlcbi8vICAgICAvLyBhbGVydChcImxhdW5jaGVkIVwiKVxuLy8gICAgIC8vQHRzLWlnbm9yZVxuLy8gICAgIC8vIHdpbmRvdy5tb2Rib3ggPSBNb2RCb3g7XG4vLyAgICAgLy8gc2V0SW50ZXJ2YWwoKCk9Pntcbi8vICAgICAvLyAgICAgZm9yKGxldCBmcmFtZSBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKSkge1xuLy8gICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZnJhbWUuc3JjKTtcbi8vICAgICAvLyAgICAgICAgIGlmIChmcmFtZS5zcmMgPT0gXCJodHRwczovL3d3dy53aW5kb3dzOTMubmV0L3Ryb2xsYm94L2luZGV4LnBocFwiKSB7XG4vLyAgICAgLy8gICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgLy8gICAgICAgICAgICAgaWYgKGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94ICE9IG51bGwpIHsgY29udGludWU7IH1cblxuLy8gICAgIC8vICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuLy8gICAgIC8vICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94ID0gTW9kQm94O1xuXG4vLyAgICAgLy8gICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgLy8gICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKE1CTG9nZ2VyKTtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgLy8gICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKHRyb2xsYm94KTtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgLy8gICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKE1vZFN0b3JhZ2UpO1xuLy8gICAgIC8vICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgZnJhbWUuY29udGVudFdpbmRvdy5tb2Rib3guTW9kQVBJLkxvYWRNb2QoTG9hZGVyTW9kKTtcbi8vICAgICAvLyAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgLy8gICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cubW9kYm94Lk1vZEFQSS5Mb2FkTW9kKE1vZExvYWRlcik7XG4vLyAgICAgLy8gICAgICAgICAgICAgfSw1MDApXG4vLyAgICAgLy8gICAgICAgICB9XG4vLyAgICAgLy8gICAgIH1cbi8vICAgICAvLyB9KVxuLy8gfSkiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIkxvYWRlck1vZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInZlcnNpb24iLCJuYW1lc3BhY2UiLCJMb2FkIiwiZGF0YSIsImV2YWwiLCJlIiwiY29uc29sZSIsImVycm9yIiwiQ2FuTG9hZCIsImZpbGUiLCJlbmRzV2l0aCIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsIl9jYWxsYmFja3MiLCJvbiIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwicHVzaCIsIm9mZiIsImZvckVhY2giLCJ2YWx1ZSIsImluZGV4Iiwic3BsaWNlIiwib25jZSIsImQiLCJhcmd1bWVudHMiLCJjYWxsZWUiLCJlbWl0IiwiYXJncyIsIngiLCJFdmVudCIsImRlZmF1bHRhY3Rpb24iLCJkZWZhdWx0UHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJydW5fZGVmYXVsdCIsImFycmF5Iiwib2JqZWN0IiwiZGVlcENsb25lIiwiYXJyIiwibmV3YXJyIiwiaSIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsInJlbW92ZSIsImhhc0Z1bmN0aW9ucyIsIm9iaiIsIml0ZW0iLCJ3aW5kb3ciLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJuZXdvYmoiLCJ3aW5vIiwiTW9kIiwiaW5pdCIsIk1vZEFQSV9DIiwibG9hZGVkIiwiaG9va3MiLCJHZXRNb2QiLCJhIiwiZmluZCIsIkVycm9yIiwiR2V0TW9kQnlOYW1lIiwiR2V0TW9kcyIsIkxvYWRNb2QiLCJtb2QiLCIkYWxlcnQiLCJsbW9kIiwiUmVwbGFjZU1vZCIsIm5ld21vZCIsImZpbmRJbmRleCIsIkhvb2siLCJmdW5jdGlvbl9uYW1lIiwiZXZlbSIsIm9nZnVuYyIsImZhcmdzIiwibmFyZ3MiLCJmZXZlbnQiLCJmdW5jYXJncyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImJpbmQiLCJGaWx0ZXJNb2RzIiwicHJlZml4IiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsIk1vZEFQSSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJNQkxvZ2dlciIsIkNyZWF0ZUxvZ2dlciIsIkxvZ2dlciIsImdldFRpbWUiLCJEYXRlIiwiZ2V0SG91cnMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJsb2ciLCJpbmZvIiwid2FybiIsInRyb2xsYm94IiwibG9nZ2VyIiwicmVnaXN0ZXJlZENvbW1hbmRzIiwiZXYiLCJtc2ciLCJzdWJzdHIiLCJzcGxpdCIsImNtZCIsInNoaWZ0IiwiaW5jbHVkZXMiLCJjbWRzIiwiYyIsImFsaWFzZXMiLCJleGVjdXRlIiwiUHJpbnRNZXNzYWdlIiwibmljayIsImNvbG9yIiwiaG9tZSIsImRhdGUiLCJub3ciLCJwcmludE1zZyIsIlJlZ2lzdGVyQ29tbWFuZCIsIkdldEVsZW1lbnQiLCJ1aWVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJHZXRTZWxlY3RvciIsIlVJRWxlbWVudCIsImVsZW1lbnQiLCJfY2hpbGRyZW4iLCJTZXRDaGlsZHJlbiIsImNoaWxkcyIsIm1hcCIsIkdldCIsImNoaWxkcmVuIiwiZnJvbUVudHJpZXMiLCJVSSIsIkZvcm0iLCJNb2RTdG9yYWdlIiwiR2V0U3RvcmFnZSIsIlN0b3JhZ2VEYXRhIiwiJGRiIiwiXyIsImNvbnRlbnQiLCJTZXQiLCJzZXQiLCJSZW1vdmUiLCJkZWwiLCJMaXN0Iiwia2V5cyIsIm1vZHMiLCJyZXBsYWNlIiwiQ2xlYXIiLCJNb2RCb3giLCJNb2RMb2FkZXIiLCJtb2RMaXN0IiwibW9kTmFtZSIsImxvYWRlcnMiLCJsb2FkZXIiLCJtb2Rib3giXSwic291cmNlUm9vdCI6IiJ9